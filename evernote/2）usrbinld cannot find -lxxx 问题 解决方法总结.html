<html>
<head>
  <title>2）/usr/bin/ld: cannot find -lxxx 问题 解决方法总结</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="YXBJ Windows/600753 (zh-CN, DDL); Windows/10.0.0 (Win64);"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="1413"/>
<h1>2）/usr/bin/ld: cannot find -lxxx 问题 解决方法总结</h1>

<div>
<span><div><div><font style="font-size: 16pt;"><span style="font-size: 16pt; font-weight: bold;">2）/usr/bin/ld: cannot find -lxxx 问题 解决方法总结</span></font></div><div><span style="font-size: 16pt;">地址：<a href="https://www.cnblogs.com/sexybear/p/find_lib.html" style="font-size: 16pt;">https://www.cnblogs.com/sexybear/p/find_lib.html</a></span></div><div><br/></div><div style="margin: 5px 0px; padding: 5px; background-color: rgb(245, 245, 245); border: 1px solid rgb(204, 204, 204); overflow: auto; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 12px !important;"><div style="margin: 0px; padding: 0px; white-space: pre-wrap; word-wrap: break-word; font-size: 12px !important;"><span style="white-space: pre-wrap; word-wrap: break-word; font-size: 12px; color: rgb(0, 0, 0); font-family: &quot;Courier New&quot;; font-variant-caps: normal; font-variant-ligatures: normal;">/usr/bin/ld: cannot find -lxxx</span></div></div><div style="margin: 10px auto; padding: 0px; font-size: 13px; text-indent: 0px; letter-spacing: normal; orphans: 2; text-align: left; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="font-size: 13px; text-indent: 0px; letter-spacing: normal; orphans: 2; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(0, 0, 0); font-family: verdana, &quot;ms song&quot;, 宋体, Arial, 微软雅黑, Helvetica, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: bold; line-height: 1.5;">这种情况是系统找不到对应的库文件，</span><span style="font-size: 13px; text-indent: 0px; letter-spacing: normal; orphans: 2; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(0, 0, 0); font-family: verdana, &quot;ms song&quot;, 宋体, Arial, 微软雅黑, Helvetica, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: bold; line-height: 1.5;">其中，-l</span><span style="font-size: 13px; text-indent: 0px; letter-spacing: normal; orphans: 2; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="font-size: 13px; color: rgb(255, 0, 0); font-family: verdana, &quot;ms song&quot;, 宋体, Arial, 微软雅黑, Helvetica, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: bold; line-height: 1.5;">xxx</span></span><span style="font-size: 13px; text-indent: 0px; letter-spacing: normal; orphans: 2; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(0, 0, 0); font-family: verdana, &quot;ms song&quot;, 宋体, Arial, 微软雅黑, Helvetica, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: bold; line-height: 1.5;">表示链接库文件 lib</span><span style="font-size: 13px; text-indent: 0px; letter-spacing: normal; orphans: 2; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="font-size: 13px; color: rgb(255, 0, 0); font-family: verdana, &quot;ms song&quot;, 宋体, Arial, 微软雅黑, Helvetica, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: bold; line-height: 1.5;">xxx</span></span><span style="font-size: 13px; text-indent: 0px; letter-spacing: normal; orphans: 2; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(0, 0, 0); font-family: verdana, &quot;ms song&quot;, 宋体, Arial, 微软雅黑, Helvetica, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: bold; line-height: 1.5;">.so。</span></div><div style="margin: 10px auto; padding: 0px; font-size: 13px; text-indent: 0px; letter-spacing: normal; orphans: 2; text-align: left; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="font-size: 13px; text-indent: 0px; letter-spacing: normal; orphans: 2; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="font-size: 13px; color: rgb(255, 0, 0); font-family: verdana, &quot;ms song&quot;, 宋体, Arial, 微软雅黑, Helvetica, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: bold; line-height: 1.5;">其命名规则是：lib+库名(即xxx)+.so。</span></span></div><p style="margin: 10px auto; padding: 0px; line-height: 1.5; color: rgb(0, 0, 0); font-size: 13px; text-indent: 0px; font-family: verdana, &quot;ms song&quot;, 宋体, Arial, 微软雅黑, Helvetica, sans-serif; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: left; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"></p><div><span style="line-height: 1.5;">会发生这样的原因有以下三种情形：</span></div><div><span style="line-height: 1.5;">1 系统没有安装相对应的lib</span></div><div><span style="line-height: 1.5;">2 相对应的lib版本不对</span></div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="line-height: 1.5;-en-paragraph:true;">3 lib(.so档)的symbolic link 不正确，没有连结到正确的函式库文件(.so)</span></div><div style="margin: 10px auto; padding: 0px; font-size: 13px; text-indent: 0px; letter-spacing: normal; orphans: 2; text-align: left; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="font-size: 13px; text-indent: 0px; letter-spacing: normal; orphans: 2; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(0, 0, 0); font-family: verdana, &quot;ms song&quot;, 宋体, Arial, 微软雅黑, Helvetica, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.5;">一般我们都是遇到了第三种情形，虽然安装了指定的库文件，但是没有进行正确的连接。</span></div><div style="margin: 10px auto; padding: 0px; font-size: 13px; text-indent: 0px; letter-spacing: normal; orphans: 2; text-align: left; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="font-size: 13px; text-indent: 0px; letter-spacing: normal; orphans: 2; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(0, 0, 0); font-family: verdana, &quot;ms song&quot;, 宋体, Arial, 微软雅黑, Helvetica, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.5;">对应第一二种情况，我们可以直接用apt-get来解决问题。</span></div><div style="margin: 5px 0px; padding: 5px; background-color: rgb(245, 245, 245); border: 1px solid rgb(204, 204, 204); overflow: auto; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 12px !important;"><div style="margin: 0px; padding: 0px; white-space: pre-wrap; word-wrap: break-word; font-size: 12px !important;"><span style="white-space: pre-wrap; word-wrap: break-word; font-size: 12px; color: rgb(255, 0, 0); font-family: &quot;Courier New&quot;; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: bold;">apt-</span><span style="white-space: pre-wrap; word-wrap: break-word; font-size: 12px; color: rgb(255, 0, 0); font-family: &quot;Courier New&quot;; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: bold; line-height: 1.5;">get</span> <span style="white-space: pre-wrap; word-wrap: break-word; font-size: 12px; color: rgb(255, 0, 0); font-family: &quot;Courier New&quot;; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: bold;">install libxxx-dev</span></div></div><div style="margin: 10px auto; padding: 0px; font-size: 13px; text-indent: 0px; letter-spacing: normal; orphans: 2; text-align: left; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="font-size: 13px; text-indent: 0px; letter-spacing: normal; orphans: 2; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(0, 0, 0); font-family: verdana, &quot;ms song&quot;, 宋体, Arial, 微软雅黑, Helvetica, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.5;">第三种情形的话，我们先用locate和find来找到指定的lib文件，</span><span style="font-size: 13px; text-indent: 0px; letter-spacing: normal; orphans: 2; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(0, 0, 0); font-family: verdana, &quot;ms song&quot;, 宋体, Arial, 微软雅黑, Helvetica, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.5;">查看链接文件是否正确的指向了我们希望的lib，如果不是，用 ln -sf */libxxx.so.x */libxxx.so 指令修改它。</span></div><div style="margin: 10px auto; padding: 0px; font-size: 13px; text-indent: 0px; letter-spacing: normal; orphans: 2; text-align: left; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="font-size: 13px; text-indent: 0px; letter-spacing: normal; orphans: 2; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(0, 0, 0); font-family: verdana, &quot;ms song&quot;, 宋体, Arial, 微软雅黑, Helvetica, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.5;">连接以后，输入ldconfig来让动态链接库供系统共享。</span></div></div><div><br/></div><div><br/></div><div><font style="font-size: 16pt;"><span style="font-size: 16pt; color: rgb(255, 70, 53); font-weight: bold;">解决实际问题：</span></font></div><div>1）R软件中安装Rsamtools 包一直报错如下：</div><div>    /mnt/X500/farmers/luozw/bin/anaconda/envs/bioinfoLzw/bin/../lib/gcc/x86_64-conda_cos6-linux-gnu/7.3.0/../../../../x86_64-conda_cos6-linux-gnu/bin/ld:</div><div>    /mnt/X500/farmers/luozw/bin/anaconda/envs/bioinfoLzw/bin/../lib/gcc/x86_64-conda_cos6-linux-gnu/7.3.0/../../../../x86_64-conda_cos6-linux-gnu/bin/ld: cannot find -lz</div><div>    /mnt/X500/farmers/luozw/bin/anaconda/envs/bioinfoLzw/bin/../lib/gcc/x86_64-conda_cos6-linux-gnu/7.3.0/../../../../x86_64-conda_cos6-linux-gnu/bin/ld: cannot find -lbz2</div><div>    /mnt/X500/farmers/luozw/bin/anaconda/envs/bioinfoLzw/bin/../lib/gcc/x86_64-conda_cos6-linux-gnu/7.3.0/../../../../x86_64-conda_cos6-linux-gnu/bin/ld: cannot find -llzma</div><div><br/></div><div>解决办法：</div><div>        1）根据以上规则安装这三个程序。</div><div>                sudo apt-get install libbz2-dev</div><div>                sudo apt-get install libz-dev</div><div>                sudo apt-get install liblzma-dev</div><div>        2）把安装好的软件拷贝到运行环境的GNU lib目录下。</div><div>            cp  \</div><div>            /mnt/X500/farmers/luozw/bin/LD_LIBRARY_PATH_DIR/*so  \</div><div>             /mnt/X500/farmers/luozw/bin/anaconda/envs/bioinfoLzw/bin/../lib/gcc/x86_64-conda_cos6-linux-gnu/7.3.0/../../../../x86_64-conda_cos6-linux-gnu/lib/</div><div><span style="color: rgb(255, 0, 0);">        3）执行这个不管用，一定要执行第二条，拷过去</span></div><div><span style="color: rgb(255, 0, 0);">            export LD_LIBRARY_PATH=/mnt/X500/farmers/luozw/bin/LD_LIBRARY_PATH_DIR/:$LD_LIBRARY_PATH</span></div><div><br/></div><div><br/></div><div><br/></div></span>
</div></body></html> 