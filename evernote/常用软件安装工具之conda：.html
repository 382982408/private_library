<html>
<head>
  <title>常用软件安装工具之conda：</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="YXBJ Windows/600753 (zh-CN, DDL); Windows/10.0.0 (Win64);"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="757"/>
<h1>常用软件安装工具之conda：</h1>

<div>
<span><div><span style="font-size: 16pt; color: rgb(255, 0, 0); font-family: &quot;Times New Roman&quot;;">常用软件安装工具之conda：</span></div><div><span style="font-size: 12pt; color: rgb(255, 0, 0);">anaconda：</span><a href="https://www.anaconda.com/distribution/#download-section" style="font-size: 12pt; color: rgb(0, 0, 0);">https://www.anaconda.com/</a></div><div>cpan安装perl 模块：/opt/anaconda3/pkgs/perl-5.26.2-h516909a_1006/lib/5.26.2/</div><div><br/></div><div><br/></div><div>        conda原本是为了解决Python模块安装的依赖问题，然而可能是无心栽柳柳成荫，conda目前已经超越了其最初目的而存在，可以解决大多数软件的安装和配置，包括各种本身与python毫无关系的包，<span style="color: rgb(227, 0, 0);">也就涵盖了，我们大多数的生物信息学软件</span>。而为此conda的软件源有多种，其中专门收录了生物信息学软件的软件源，亦即bioconda。所以bioconda仅仅是conda的软件源之一，与bioconductor之于CRAN，bioperl之于CPAN是类似的。所以掌握bioconda，事实上也就是掌握conda，反之亦然.</div><div>        conda是一个开源的软件包管理系统和环境管理系统，<span style="color: rgb(227, 0, 0);">用于安装多个版本的软件包及其依赖关系</span>，并在它们之间轻松切换。</div><div>        <span style="color: rgb(227, 0, 0);">Conda包括Anaconda和Miniconda</span>。Conda还包括在Anaconda的Continuum订阅中，它为Python, R, Scala, Java, Javascript, C/ C++以及其他应用程序堆栈提供包管理。而pypi（pypi是一个python包的仓库，里面有很多别人写好的python库，你可以通过easy_install或者pip进行安装）也可以使用Conda，尽管这种做法可能不是最新的。</div><div><font face="Times New Roman" style="font-size: 10pt;"><br/></font></div><div><span style="font-size: 10pt; font-family: &quot;Times New Roman&quot;;">1）软件源channel 添加。</span></div><div><span style="font-size: 10pt; font-family: &quot;Times New Roman&quot;;">常用软件源：</span></div><div><span style="font-size: 10pt; font-family: &quot;Times New Roman&quot;;">        conda config --add channels conda-forge</span></div><div><span style="font-size: 10pt; font-family: &quot;Times New Roman&quot;;">        conda config --add channels defaults</span></div><div><span style="font-size: 10pt; font-family: &quot;Times New Roman&quot;;">        conda config --add channels r</span></div><div><span style="font-size: 10pt; font-family: &quot;Times New Roman&quot;;">        conda config --add channels bioconda</span></div><div><span style="font-size: 10pt; font-family: &quot;Times New Roman&quot;;"> 以上，无论是conda默认的软件源还是bioconda软件源都是国外的，速度非常慢，</span><span style="font-size: 10pt; letter-spacing: 0.544px; color: rgb(47, 47, 47); font-family: &quot;Times New Roman&quot;;">所以需要增加国内软件源，同时bioconda已经有</span><span style="font-size: 10pt; max-width: 100%; letter-spacing: 0.544px; background-color: rgb(255, 255, 255); word-wrap: break-word !important; color: rgb(47, 47, 47); font-family: &quot;Times New Roman&quot;; font-style: italic;">清华</span><span style="font-size: 10pt; letter-spacing: 0.544px; background-color: rgb(255, 255, 255); color: rgb(47, 47, 47); font-family: &quot;Times New Roman&quot;;">，</span><span style="font-size: 10pt; max-width: 100%; letter-spacing: 0.544px; word-wrap: break-word !important; color: rgb(47, 47, 47); font-family: &quot;Times New Roman&quot;; font-style: italic;">中科大</span><span style="font-size: 10pt; letter-spacing: 0.544px; color: rgb(47, 47, 47); font-family: &quot;Times New Roman&quot;;">两个国内镜像，也添加进去：</span></div><div><span style="font-size: 10pt; font-family: &quot;Times New Roman&quot;;">        conda config --add channels https://</span><a href="http://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free/" style="font-size: 10pt; font-family: &quot;Times New Roman&quot;;">mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free/</a></div><div><span style="font-size: 10pt; font-family: &quot;Times New Roman&quot;;">        conda config --add channels https://</span><a href="http://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free/" style="font-size: 10pt; font-family: &quot;Times New Roman&quot;;">mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/main/</a></div><div><span style="font-size: 10pt; font-family: &quot;Times New Roman&quot;;">        conda config --add channels https://</span><a href="http://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/conda-forge/" style="font-size: 10pt; font-family: &quot;Times New Roman&quot;;">mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/conda-forge/</a></div><div><span style="font-size: 10pt; font-family: &quot;Times New Roman&quot;;">        conda config --add channels https://</span><a href="http://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/msys2/" style="font-size: 10pt; font-family: &quot;Times New Roman&quot;;">mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/msys2/</a></div><div><span style="font-size: 10pt; font-family: &quot;Times New Roman&quot;;">conda config --set show_channel_urls yes</span></div><div><font face="Times New Roman" style="font-size: 10pt;"><br/></font></div><div><span style="font-size: 10pt; font-family: &quot;Times New Roman&quot;;">2）</span><span style="letter-spacing: 0.544px; font-size: 10pt; color: rgb(47, 47, 47); font-family: &quot;Times New Roman&quot;;">对于非root用户而言，如果直接运行</span><span style="max-width: 100%; letter-spacing: 0.544px; background-color: rgb(255, 255, 255); font-size: 10pt; word-wrap: break-word !important; color: rgb(47, 47, 47); font-family: &quot;Times New Roman&quot;;">conda install bwa</span><span style="letter-spacing: 0.544px; font-size: 10pt; color: rgb(47, 47, 47); font-family: &quot;Times New Roman&quot;;">，那么可能会受到写入权限的限制，此时可以使用conda最灵活的操作，模拟虚拟环境（</span><span style="max-width: 100%; letter-spacing: 0.544px; background-color: rgb(255, 255, 255); font-size: 10pt; word-wrap: break-word !important; color: rgb(47, 47, 47); font-family: &quot;Times New Roman&quot;; font-style: italic;">注意不是创建</span><span style="letter-spacing: 0.544px; font-size: 10pt; color: rgb(47, 47, 47); font-family: &quot;Times New Roman&quot;;">）。</span></div><div><font face="Times New Roman" style="font-size: 10pt;"><span style="letter-spacing: 0.544px; font-size: 10pt; font-family: &quot;Times New Roman&quot;; color: rgb(47, 47, 47);">    2.1 创建虚拟环境 </span></font><span style="color: rgb(47, 47, 47); font-family: &quot;Times New Roman&quot;;">conda create -n</span> <span style="color: rgb(255, 0, 0); font-family: &quot;Times New Roman&quot;;">bioinfoLzw</span></div><div><span style="color: rgb(47, 47, 47); font-family: &quot;Times New Roman&quot;;">     2.2</span><span style="color: rgb(255, 0, 0); font-family: &quot;Times New Roman&quot;;"> 激活虚拟环境 source</span><span style="color: rgb(255, 0, 0); font-family: &quot;Times New Roman&quot;;"> activate bioinfoLzw  | </span><span style="color: rgb(255, 0, 0); font-family: &quot;Times New Roman&quot;;">conda activate python27</span> <span style="color: rgb(255, 0, 0); font-family: &quot;Times New Roman&quot;;">（</span><span style="color: rgb(255, 0, 0); font-family: &quot;Times New Roman&quot;;">conda deactivate 解除虚拟环境</span><span style="color: rgb(255, 0, 0); font-family: &quot;Times New Roman&quot;;">）</span></div><div><font face="Times New Roman" style="font-size: 10pt;"><br/></font></div><div><span style="font-size: 16pt; color: rgb(227, 0, 0); font-family: &quot;Times New Roman&quot;;">常用命令：</span></div><div>conda info    # 查看目前conda软件源情况</div><div>     #查看所有环境    </div><div><br/></div><div>conda config --help      #帮助文档</div><div>conda config </div><div><span style="font-size: 10pt;">        --show    #查看conda的所有配置信息（conda config --show-sources）</span></div><div><span style="font-size: 10pt;">        --get 【key】     # 获取某一变量的信息（如</span><span style="font-size: 10pt; color: rgb(255, 70, 53);">conda config --get channels |</span> <span style="color: rgb(255, 70, 53);">conda config --show channels</span><span style="font-size: 10pt;">）</span></div><div><span style="font-size: 10pt;">        --append 【KEY VALUE】    #添加信息</span></div><div><span style="font-size: 10pt;">        --set 【KEY VALUE】            #设置配置信息</span></div><div><span style="font-size: 10pt;">        --remove 【KEY VALUE】    #删除配置信息</span></div><div><span style="font-size: 10pt;">        --remove-key 【KEY】         #删除配置信息</span></div><div>        --add channels 【url】         #添加私有源</div><div>        --remove channels 【url】     #移除源</div><div><br/></div><div>conda create -n python2 --clone py2    #克隆一个原来叫做py2的环境重新命名成python2</div><div><span style="color: rgb(227, 0, 0);">conda install            # 安装指定包 【fastp、bwa、</span><span style="color: rgb(227, 0, 0);">bowtie、</span><span style="color: rgb(227, 0, 0);">samtools、</span><span style="color: rgb(227, 0, 0);">sambamba</span><span style="color: rgb(227, 0, 0);">、</span><span style="color: rgb(227, 0, 0);">picard</span><span style="color: rgb(227, 0, 0);">、</span><span style="color: rgb(227, 0, 0);">bedtools</span><span style="color: rgb(227, 0, 0);">】</span></div><div>conda remove         # 移除指定包 </div><div>    conda remove -n py2 --all  #移除指定环境所有package</div><div><span style="color: rgb(255, 0, 0);">    conda-env remove -n pureCN #移除环境</span></div><div>conda update          # 更新指定包</div><div>conda list                 #显示所有packages 的信息（版本号与channels频道）</div><div>conda search           #查询软件信息（版本号与channels频道）</div><div><br/></div><div><img src="常用软件安装工具之conda：_files/Image.png" type="image/png" data-filename="Image.png"/></div><div><br/></div><div><font style="font-size: 10pt;"><br/></font></div></span>
</div></body></html> 